<div class="window" style="padding-top: 1.5rem;">
  <div class="window-content">
    <div class="pane-group">

  	<div class="pane-lg" style="padding: 2rem;padding-top: 0">
  		<h3><u><span class="icon icon-database icon-text" style="color:#f25022;padding-right:1rem "></span>DVR Details</u></h3>
   
  	<div class="form-group">
    	<label> Region</label>
  		<select class="form-control input-dvr" id="region_select">
  		</select>
  	</div>
  	<div class="form-group">
   		<label>Department</label>
  		<select class="form-control input-dvr"  id="dept_select">
  		</select>
 	</div>
	<div class="form-group">
    	<label>DVR Model</label>
    	<input class="form-control input-dvr" placeholder="e.g ds-7232hqhi-k2">
  	</div>
  	<div class="form-group">
    	<label>DVR Serial</label>
   	 	<input class="form-control input-dvr" placeholder="e.g D07188969">
  	</div>
  	<div class="form-group">
    	<label> <span class="icon icon-drive icon-text"></span> 
    	Remaining Storage</label>
   	 	<input class="form-control input-dvr" placeholder="e.g 2TB">
  	</div>
  </div>
  	<div class="pane" style="padding: 2rem;padding-top: 0">
  	<table class="table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Model</th>
      <th>Resolution</th>
      <th>Focal Length</th>
      <th>Type</th>
      <th>Number</th>
    </tr>
  </thead>
  <tbody>
  	<tr>
  		<th>1</th>
  		<td><input class="form-control input-ext1" type="" name=""></td>
  		<td><select class="form-control input-ext1" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext1" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext1">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext1" type="" name=""></td>
  	</tr>
  	 <tr>
  		<th>2</th>
  		<td><input class="form-control input-ext2" type="" name=""></td>
  		<td><select class="form-control input-ext2" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext2" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext2">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext2" type="" name=""></td>
  	</tr>
  	 <tr>
  		<th>3</th>
  		<td><input class="form-control input-ext3" type="" name=""></td>
  		<td><select class="form-control input-ext3" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext3" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext3">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext3" type="" name=""></td>
  	</tr>
    <tr>
  		<th>4</th>
  		<td><input class="form-control input-ext4" type="" name=""></td>
  		<td><select class="form-control input-ext4" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext4" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext4">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext4" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>5</th>
  		<td><input class="form-control input-ext5" type="" name=""></td>
  		<td><select class="form-control input-ext5" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext5" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext5">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext5" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>6</th>
  		<td><input class="form-control input-ext6" type="" name=""></td>
  		<td><select class="form-control input-ext6" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext6" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext6">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext6" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>7</th>
  		<td><input class="form-control input-ext7" type="" name=""></td>
  		<td><select class="form-control input-ext7" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext7" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext7">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext7" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>8</th>
  		<td><input class="form-control input-ext8" type="" name=""></td>
  		<td><select class="form-control input-ext8" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext8" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext8">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext8" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>9</th>
  		<td><input class="form-control input-ext9" type="" name=""></td>
  		<td><select class="form-control input-ext9" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext9" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext9">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext9" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>10</th>
  		<td><input class="form-control input-ext10" type="" name=""></td>
  		<td><select class="form-control input-ext10" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext10" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext10">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext10" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>11</th>
  		<td><input class="form-control input-ext11" type="" name=""></td>
  		<td><select class="form-control input-ext11" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext11" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext11">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext11" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>12</th>
  		<td><input class="form-control input-ext12" type="" name=""></td>
  		<td><select class="form-control input-ext12" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext12" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext12">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext12" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>13</th>
  		<td><input class="form-control input-ext13" type="" name=""></td>
  		<td><select class="form-control input-ext13" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext13" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext13">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext13" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>14</th>
  		<td><input class="form-control input-ext14" type="" name=""></td>
  		<td><select class="form-control input-ext14" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext14" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext14">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext14" type="" name=""></td>
  	</tr>
  	<tr>
  		<th>15</th>
  		<td><input class="form-control input-ext15" type="" name=""></td>
  		<td><select class="form-control input-ext15" id="res_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext15" id="foc_select">
  			
  		</select></td>
  		<td><select class="form-control input-ext15">
  			<option>Outdoor</option>
  			<option>Indoor</option>
  			<option>Indoor & Outdoor</option>
  		</select></td>
  		<td><input style="width:3rem " class="form-control input-ext15" type="" name=""></td>
  	</tr>
  </tbody>
</table>
  	<div class="form-group submit pull-right" style="margin-top:1rem">
      <button class="btn btn-primary">
      Save
      </button>
    </div>

  	</div>
</div>
</div>
</div>
<style type="text/css">
	

</style>

<script type="text/javascript">
const { init_data} = require('../res/reusable');
  var db = init_data(Dexie);
  let automate2 = (db,table,id)=>{
  db[table].each(result=>{
    for (const key of Object.keys(result)) {
   if(key == '__proto__' || key ==='id'){ continue}
  else if(key =='name'){
    if(result[key]){

    let btn_regions = document.querySelectorAll(id);
    	btn_regions.forEach(btn_region=>{
    	let opt=document.createElement('option');
    	opt.text = result[key];
    	btn_region.add(opt);	
    })
    
}
  }


    }
  });
}
automate2(db,'regions','#region_select');
automate2(db,'departments','#dept_select');
automate2(db,'resolutions','#res_select');
automate2(db,'focals','#foc_select');

let auto_save=(className,dbNames,tableName)=>{
let inputs = document.querySelectorAll(className);
let data = {};
inputs.forEach((input,index)=>{
  data[dbNames[index]] = input.value;  
});
db[tableName].add(data)
.then(()=>{
let getEl_to_clear = document.querySelectorAll(className);
  getEl_to_clear.forEach((Elem)=>{
    if(Elem.tagName =="SELECT"){ 
    }else{
    Elem.value = "";
  }
  });

});
}

let submitbtn = document.querySelector(".submit");
submitbtn.onclick = event => {
let database_names=['region','department','dvr_model','dvr_serial','storage']
auto_save('.input-dvr',database_names,'dvrs')



}


</script>